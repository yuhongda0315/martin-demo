JXG={exists:function(r){return function(e){return!(e===r||null===e)}}()},JXG.decompress=function(r){return unescape(new JXG.Util.Unzip(JXG.Util.Base64.decodeAsArray(r)).unzip()[0][0])},JXG.Util={},JXG.Util.Unzip=function(r){function e(){return N+=8,z<x.length?x[z++]:-1}function t(){E=1}function n(){var r;return N++,r=1&E,E>>=1,0==E&&(E=e(),r=1&E,E=E>>1|128),r}function a(r){for(var e=0,t=r;t--;)e=e<<1|n();return r&&(e=U[e]>>8-r),e}function o(){S=0}function i(r){C++,y[S++]=r,k.push(String.fromCharCode(r)),32768==S&&(S=0)}function f(){this.b0=0,this.b1=0,this.jump=null,this.jumppos=-1}function c(){for(;;){if(H[R]>=M)return-1;if(L[H[R]]==R)return H[R]++;H[R]++}}function u(){var r,e=F[D];if(v&&document.write("<br>len:"+R+" treepos:"+D),17==R)return-1;if(D++,R++,r=c(),v&&document.write("<br>IsPat "+r),r>=0)e.b0=r,v&&document.write("<br>b0 "+e.b0);else if(e.b0=32768,v&&document.write("<br>b0 "+e.b0),u())return-1;if(r=c(),r>=0)e.b1=r,v&&document.write("<br>b1 "+e.b1),e.jump=null;else if(e.b1=32768,v&&document.write("<br>b1 "+e.b1),e.jump=F[D],e.jumppos=D,u())return-1;return R--,0}function s(r,e,t,n){var a;for(v&&document.write("currentTree "+r+" numval "+e+" lengths "+t+" show "+n),F=r,D=0,L=t,M=e,a=0;17>a;a++)H[a]=0;if(R=0,u())return v&&alert("invalid huffman tree\n"),-1;if(v){document.write("<br>Tree: "+F.length);for(var o=0;32>o;o++)document.write("Places["+o+"].b0="+F[o].b0+"<br>"),document.write("Places["+o+"].b1="+F[o].b1+"<br>")}return 0}function l(r){for(var e,t,a,o=0,i=r[o];;)if(a=n(),v&&document.write("b="+a),a){if(!(32768&i.b1))return v&&document.write("ret1"),i.b1;for(i=i.jump,e=r.length,t=0;e>t;t++)if(r[t]===i){o=t;break}}else{if(!(32768&i.b0))return v&&document.write("ret2"),i.b0;o++,i=r[o]}return v&&document.write("ret3"),-1}function d(){var r,c,u,d,h;do{switch(r=n(),u=a(2)){case 0:v&&alert("Stored\n");break;case 1:v&&alert("Fixed Huffman codes\n");break;case 2:v&&alert("Dynamic Huffman codes\n");break;case 3:v&&alert("Reserved block type!!\n");break;default:v&&alert("Unexpected value %d!\n",u)}if(0==u){var b,p;for(t(),b=e(),b|=e()<<8,p=e(),p|=e()<<8,65535&(b^~p)&&document.write("BlockLen checksum mismatch\n");b--;)c=e(),i(c)}else if(1==u)for(var m;;)if(m=U[a(7)]>>1,m>23?(m=m<<1|n(),m>199?(m-=128,m=m<<1|n()):(m-=48,m>143&&(m+=136))):m+=256,256>m)i(m);else{if(256==m)break;var h,C;for(m-=257,h=a(I[m])+G[m],m=U[a(5)]>>3,_[m]>8?(C=a(8),C|=a(_[m]-8)<<8):C=a(_[m]),C+=X[m],m=0;h>m;m++){var c=y[S-C&32767];i(c)}}else if(2==u){var m,g,k,w,A,j=new Array(320);for(k=257+a(5),w=1+a(5),A=4+a(4),m=0;19>m;m++)j[m]=0;for(m=0;A>m;m++)j[J[m]]=a(3);for(h=Z.length,d=0;h>d;d++)Z[d]=new f;if(s(Z,19,j,0))return o(),1;if(v){document.write("<br>distanceTree");for(var x=0;x<Z.length;x++)document.write("<br>"+Z[x].b0+" "+Z[x].b1+" "+Z[x].jump+" "+Z[x].jumppos)}g=k+w,d=0;var z=-1;for(v&&document.write("<br>n="+g+" bits: "+N+"<br>");g>d;)if(z++,m=l(Z),v&&document.write("<br>"+z+" i:"+d+" decode: "+m+"    bits "+N+"<br>"),16>m)j[d++]=m;else if(16==m){var E;if(m=3+a(2),d+m>g)return o(),1;for(E=d?j[d-1]:0;m--;)j[d++]=E}else{if(m=17==m?3+a(3):11+a(7),d+m>g)return o(),1;for(;m--;)j[d++]=0}for(h=P.length,d=0;h>d;d++)P[d]=new f;if(s(P,k,j,0))return o(),1;for(h=P.length,d=0;h>d;d++)Z[d]=new f;var T=new Array;for(d=k;d<j.length;d++)T[d-k]=j[d];if(s(Z,w,T,0))return o(),1;for(v&&document.write("<br>literalTree");;)if(m=l(P),m>=256){var h,C;if(m-=256,0==m)break;for(m--,h=a(I[m])+G[m],m=l(Z),_[m]>8?(C=a(8),C|=a(_[m]-8)<<8):C=a(_[m]),C+=X[m];h--;){var c=y[S-C&32767];i(c)}}else i(m)}}while(!r);return o(),t(),0}function h(){v&&alert("NEXTFILE"),k=[];var r=[];if(j=!1,r[0]=e(),r[1]=e(),v&&alert("type: "+r[0]+" "+r[1]),r[0]==parseInt("78",16)&&r[1]==parseInt("da",16)&&(v&&alert("GEONExT-GZIP"),d(),v&&alert(k.join("")),A[w]=new Array(2),A[w][0]=k.join(""),A[w][1]="geonext.gxt",w++),r[0]==parseInt("1f",16)&&r[1]==parseInt("8b",16)&&(v&&alert("GZIP"),b(),v&&alert(k.join("")),A[w]=new Array(2),A[w][0]=k.join(""),A[w][1]="file",w++),r[0]==parseInt("50",16)&&r[1]==parseInt("4b",16)&&(j=!0,r[2]=e(),r[3]=e(),r[2]==parseInt("3",16)&&r[3]==parseInt("4",16))){r[0]=e(),r[1]=e(),v&&alert("ZIP-Version: "+r[1]+" "+r[0]/10+"."+r[0]%10),p=e(),p|=e()<<8,v&&alert("gpflags: "+p);var t=e();t|=e()<<8,v&&alert("method: "+t),e(),e(),e(),e();var n=e();n|=e()<<8,n|=e()<<16,n|=e()<<24;var a=e();a|=e()<<8,a|=e()<<16,a|=e()<<24;var o=e();o|=e()<<8,o|=e()<<16,o|=e()<<24,v&&alert("local CRC: "+n+"\nlocal Size: "+o+"\nlocal CompSize: "+a);var i=e();i|=e()<<8;var f=e();for(f|=e()<<8,v&&alert("filelen "+i),u=0,B=[];i--;){var c=e();"/"==c|":"==c?u=0:T-1>u&&(B[u++]=String.fromCharCode(c))}v&&alert("nameBuf: "+B),g||(g=B);for(var u=0;f>u;)c=e(),u++;m=4294967295,C=0,(o=0)&&v&&alert("skipdir"),8==t&&(d(),v&&alert(k.join("")),A[w]=new Array(2),A[w][0]=k.join(""),A[w][1]=B.join(""),w++),b()}}function b(){var r,t,n,a,o,i,f=[];if(8&p&&(f[0]=e(),f[1]=e(),f[2]=e(),f[3]=e(),f[0]==parseInt("50",16)&&f[1]==parseInt("4b",16)&&f[2]==parseInt("07",16)&&f[3]==parseInt("08",16)?(r=e(),r|=e()<<8,r|=e()<<16,r|=e()<<24):r=f[0]|f[1]<<8|f[2]<<16|f[3]<<24,t=e(),t|=e()<<8,t|=e()<<16,t|=e()<<24,n=e(),n|=e()<<8,n|=e()<<16,n|=e()<<24,v&&alert("CRC:")),j&&h(),f[0]=e(),8!=f[0])return v&&alert("Unknown compression method!"),0;if(p=e(),v&&p&~parseInt("1f",16)&&alert("Unknown flags set!"),e(),e(),e(),e(),e(),a=e(),4&p)for(f[0]=e(),f[2]=e(),R=f[0]+256*f[1],v&&alert("Extra field size: "+R),o=0;R>o;o++)e();if(8&p){for(o=0,B=[];i=e();)"7"!=i&&":"!=i||(o=0),T-1>o&&(B[o++]=i);v&&alert("original file name: "+B)}if(16&p)for(;i=e(););2&p&&(e(),e()),d(),r=e(),r|=e()<<8,r|=e()<<16,r|=e()<<24,n=e(),n|=e()<<8,n|=e()<<16,n|=e()<<24,j&&h()}var p,m,C,g,k=[],v=!1,w=0,A=[],y=new Array(32768),S=0,j=!1,U=[0,128,64,192,32,160,96,224,16,144,80,208,48,176,112,240,8,136,72,200,40,168,104,232,24,152,88,216,56,184,120,248,4,132,68,196,36,164,100,228,20,148,84,212,52,180,116,244,12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254,1,129,65,193,33,161,97,225,17,145,81,209,49,177,113,241,9,137,73,201,41,169,105,233,25,153,89,217,57,185,121,249,5,133,69,197,37,165,101,229,21,149,85,213,53,181,117,245,13,141,77,205,45,173,109,237,29,157,93,221,61,189,125,253,3,131,67,195,35,163,99,227,19,147,83,211,51,179,115,243,11,139,75,203,43,171,107,235,27,155,91,219,59,187,123,251,7,135,71,199,39,167,103,231,23,151,87,215,55,183,119,247,15,143,79,207,47,175,111,239,31,159,95,223,63,191,127,255],G=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],I=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,99,99],X=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],_=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],J=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],x=r,z=0,E=1,N=0,T=256,B=[],O=288,P=new Array(O),Z=new Array(32),D=0,F=null,R=(new Array(64),new Array(64),0),H=new Array(17);H[0]=0;var L,M;JXG.Util.Unzip.prototype.unzipFile=function(r){var e;for(this.unzip(),e=0;e<A.length;e++)if(A[e][1]==r)return A[e][0]},JXG.Util.Unzip.prototype.unzip=function(){return v&&alert(x),h(),A}},JXG.Util.Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(r){var e,t,n,a,o,i,f,c=[],u=0;for(r=JXG.Util.Base64._utf8_encode(r);u<r.length;)e=r.charCodeAt(u++),t=r.charCodeAt(u++),n=r.charCodeAt(u++),a=e>>2,o=(3&e)<<4|t>>4,i=(15&t)<<2|n>>6,f=63&n,isNaN(t)?i=f=64:isNaN(n)&&(f=64),c.push([this._keyStr.charAt(a),this._keyStr.charAt(o),this._keyStr.charAt(i),this._keyStr.charAt(f)].join(""));return c.join("")},decode:function(r,e){var t,n,a,o,i,f,c,u=[],s=0;for(r=r.replace(/[^A-Za-z0-9\+\/\=]/g,"");s<r.length;)o=this._keyStr.indexOf(r.charAt(s++)),i=this._keyStr.indexOf(r.charAt(s++)),f=this._keyStr.indexOf(r.charAt(s++)),c=this._keyStr.indexOf(r.charAt(s++)),t=o<<2|i>>4,n=(15&i)<<4|f>>2,a=(3&f)<<6|c,u.push(String.fromCharCode(t)),64!=f&&u.push(String.fromCharCode(n)),64!=c&&u.push(String.fromCharCode(a));return u=u.join(""),e&&(u=JXG.Util.Base64._utf8_decode(u)),u},_utf8_encode:function(r){r=r.replace(/\r\n/g,"\n");for(var e="",t=0;t<r.length;t++){var n=r.charCodeAt(t);128>n?e+=String.fromCharCode(n):n>127&&2048>n?(e+=String.fromCharCode(n>>6|192),e+=String.fromCharCode(63&n|128)):(e+=String.fromCharCode(n>>12|224),e+=String.fromCharCode(n>>6&63|128),e+=String.fromCharCode(63&n|128))}return e},_utf8_decode:function(r){for(var e=[],t=0,n=0,a=0,o=0;t<r.length;)n=r.charCodeAt(t),128>n?(e.push(String.fromCharCode(n)),t++):n>191&&224>n?(a=r.charCodeAt(t+1),e.push(String.fromCharCode((31&n)<<6|63&a)),t+=2):(a=r.charCodeAt(t+1),o=r.charCodeAt(t+2),e.push(String.fromCharCode((15&n)<<12|(63&a)<<6|63&o)),t+=3);return e.join("")},_destrip:function(r,e){var t,n,a=[],o=[];for(null==e&&(e=76),r.replace(/ /g,""),t=r.length/e,n=0;t>n;n++)a[n]=r.substr(n*e,e);for(t!=r.length/e&&(a[a.length]=r.substr(t*e,r.length-t*e)),n=0;n<a.length;n++)o.push(a[n]);return o.join("\n")},decodeAsArray:function(r){var e,t=this.decode(r),n=[];for(e=0;e<t.length;e++)n[e]=t.charCodeAt(e);return n},decodeGEONExT:function(r){return decodeAsArray(destrip(r),!1)}},JXG.Util.asciiCharCodeAt=function(r,e){var t=r.charCodeAt(e);if(t>255)switch(t){case 8364:t=128;break;case 8218:t=130;break;case 402:t=131;break;case 8222:t=132;break;case 8230:t=133;break;case 8224:t=134;break;case 8225:t=135;break;case 710:t=136;break;case 8240:t=137;break;case 352:t=138;break;case 8249:t=139;break;case 338:t=140;break;case 381:t=142;break;case 8216:t=145;break;case 8217:t=146;break;case 8220:t=147;break;case 8221:t=148;break;case 8226:t=149;break;case 8211:t=150;break;case 8212:t=151;break;case 732:t=152;break;case 8482:t=153;break;case 353:t=154;break;case 8250:t=155;break;case 339:t=156;break;case 382:t=158;break;case 376:t=159}return t},JXG.Util.utf8Decode=function(r){var e,t=[],n=0,a=0,o=0;if(!JXG.exists(r))return"";for(;n<r.length;)a=r.charCodeAt(n),128>a?(t.push(String.fromCharCode(a)),n++):a>191&&224>a?(o=r.charCodeAt(n+1),t.push(String.fromCharCode((31&a)<<6|63&o)),n+=2):(o=r.charCodeAt(n+1),e=r.charCodeAt(n+2),t.push(String.fromCharCode((15&a)<<12|(63&o)<<6|63&e)),n+=3);return t.join("")},JXG.Util.genUUID=function(){for(var r,e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),t=new Array(36),n=0,a=0;36>a;a++)8==a||13==a||18==a||23==a?t[a]="-":14==a?t[a]="4":(2>=n&&(n=33554432+16777216*Math.random()|0),r=15&n,n>>=4,t[a]=e[19==a?3&r|8:r]);return t.join("")};