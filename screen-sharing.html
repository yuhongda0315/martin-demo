<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>ScreenSharing</title>
  <style>
    video{
      height: 30%;
      width: 40%;
    }
  </style>
</head>
<body>
  <video id="screen"></video>
  <video id="video"></video>
  <script>
    RongDesktop.desktopCapturer.getSources({types: ['screen', 'window']}, function(error, sources) {

      sources.forEach(function(srouce){
        if(srouce.name.indexOf('screen') > -1){
          navigator.getUserMedia({
              audio: false,
              video: {
                  mandatory: {
                      chromeMediaSource: 'screen',
                      chromeMediaSourceId: srouce.id,
                      minWidth: 1280,
                      maxWidth: 1920,
                      minHeight: 720,
                      maxHeight: 1080
                  }
              }
          }, getStream, getUserMediaError);
        }
      });

      function getStream(stream) {
        var node = document.getElementById('screen');
        node.srcObject = stream;
      }

      function getUserMediaError() {
          console.log('getUserMediaError');
      }
    });

    navigator.getUserMedia({
          audio: true,
          video: true
      }, function(stream){
        var node = document.getElementById('video');
        node.srcObject = stream;
        video.play()
      }, function(error){
        console.log(error);
      });
  </script>
</body>
</html>